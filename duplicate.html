<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Détection de doublons</title>
</head>
<body>
    <h1>Détection de doublons dans les listes</h1>

    <div>
        <h3>Liste 1</h3>
        <textarea id="liste1" rows="5" cols="50"></textarea>
    </div>
    <div>
        <h3>Liste 2</h3>
        <textarea id="liste2" rows="5" cols="50"></textarea>
    </div>
    <div>
        <h3>Liste 3</h3>
        <textarea id="liste3" rows="5" cols="50"></textarea>
    </div>
    <div>
        <h3>Liste 4</h3>
        <textarea id="liste4" rows="5" cols="50"></textarea>
    </div>

    <button onclick="trouverEtAfficherDoublons()">Trouver les doublons</button>
    <p id="resultat"></p>

    <script>
        function trouverDoublons(...listes) {
            const elementsListes = {};
            const doublons = [];

            listes.forEach((liste, index) => {
                liste.forEach(element => {
                    if (elementsListes[element]) {
                        elementsListes[element].push(`Liste ${index + 1}`);
                    } else {
                        elementsListes[element] = [`Liste ${index + 1}`];
                    }
                });
            });

            for (const element in elementsListes) {
                if (elementsListes[element].length >= 3) {
                    doublons.push(`${element} (${elementsListes[element].join(", ")})`);
                }
            }

            return doublons;
        }

        function trouverEtAfficherDoublons() {
            // Récupérer les valeurs des champs de texte et les convertir en tableaux
            const liste1 = document.getElementById("liste1").value.split('\n').filter(item => item.trim() !== '');
            const liste2 = document.getElementById("liste2").value.split('\n').filter(item => item.trim() !== '');
            const liste3 = document.getElementById("liste3").value.split('\n').filter(item => item.trim() !== '');
            const liste4 = document.getElementById("liste4").value.split('\n').filter(item => item.trim() !== '');

            const doublons = trouverDoublons(liste1, liste2, liste3, liste4);
            const resultatElement = document.getElementById("resultat");

            if (doublons.length > 0) {
                resultatElement.innerText = "Doublons trouvés dans au moins trois listes :\n" + doublons.join("\n");
            } else {
                resultatElement.innerText = "Aucun doublon trouvé dans au moins trois listes.";
            }
        }
    </script>
</body>
</html>
